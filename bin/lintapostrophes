#!/usr/bin/env bash

CHECKED="$1"
ALLOWED="$2"

( test -z "$CHECKED" ) && (
	test -d ./views && CHECKED="$CHECKED 'views/'"
	test -d ./locales && CHECKED="$CHECKED 'locales/'"
)

test -n "$CHECKED" && ( grep "'" -r $CHECKED | ( ( test -z "$ALLOWED" && cat ) || grep -v $ALLOWED ) ) && (
	echo 'ERROR: Incorrect apostrophes!'
	exit 1
)

